jQuery(function(o){var e=o(".bulk-action"),i=o(".bulk-priority");$gp.showhide("#upper-filters-toolbar a.sort","#upper-filters-toolbar dl.sort",{show_text:$gp_translations_options.sort+" &darr;",hide_text:$gp_translations_options.sort+" &uarr;",focus:"#sort\\[by\\]"}),$gp.showhide("#upper-filters-toolbar a.filter","#upper-filters-toolbar dl.filters",{show_text:$gp_translations_options.filter+" &darr;",hide_text:$gp_translations_options.filter+" &uarr;",focus:"#filters\\[term\\]"}),e.on("change",function(){var t=o("option:selected",this);e.val(t.val()),"set-priority"===t.val()?i.removeClass("hidden"):i.addClass("hidden")}),o("form.filters-toolbar.bulk-actions").submit(function(t){var e=o("input:checked",o("table#translations th.checkbox")).map(function(){return o(this).parents("tr.preview").attr("row")}).get().join(",");o('input[name="bulk[row-ids]"]',o(this)).val(e)}),o("a#export").click(function(){var t=o("#export-format").val(),e="";if("filtered"==o("#what-to-export").val()){var i=-1==o(this).attr("filters").indexOf("?")?"?":"&";e=o(this).attr("filters")+i+"format="+t}else e=o(this).attr("href")+"?format="+t;return window.location=e,!1});var r=!1;o("tbody").children().children(".checkbox").find(":checkbox").click(function(t){if("undefined"==t.shiftKey)return!0;if(t.shiftKey){if(!r)return!0;checks=o(r).closest("table").find(":checkbox"),first=checks.index(r),last=checks.index(this),checked=o(this).prop("checked"),0<first&&0<last&&first!=last&&checks.slice(first,last).prop("checked",function(){return!!o(this).closest("tr").is(":visible")&&checked})}return r=this,!0}),o("thead, tfoot").find(".checkbox :checkbox").click(function(t){var e=o(this).prop("checked"),i="undefined"!=typeof toggleWithKeyboard&&toggleWithKeyboard,r=t.shiftKey||i;o(this).closest("table").children("tbody").filter(":visible").children().children(".checkbox").find(":checkbox").prop("checked",function(){return!o(this).closest("tr").is(":hidden")&&(r?o(this).prop("checked"):!!e)}),o(this).closest("table").children("thead,  tfoot").filter(":visible").children().children(".checkbox").find(":checkbox").prop("checked",function(){return!r&&!!e})})});
